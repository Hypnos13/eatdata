<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/main_layout}">
<head>
    <title>ì£¼ë¬¸ í˜„í™©</title>
    <style>
      /* íƒ€ì„ë¼ì¸ */
      .status-steps {
        display:flex;
        counter-reset:step;
        margin:2rem 0;
        list-style:none;
        padding:0;
      }
      .status-steps li {
        position:relative;
        flex:1;
        text-align:center;
      }
      .status-steps li:before {
        counter-increment:step;
        content:counter(step);
        width:2rem; height:2rem; line-height:2rem;
        border:2px solid #ccc;
        border-radius:50%;
        background:#fff;
        display:block;
        margin:0 auto;
        z-index:1;
      }
      .status-steps li:after {
        content:'';
        position:absolute;
        width:100%; height:2px;
        background:#ccc;
        top:1rem; left:-50%;
        z-index:0;
      }
      .status-steps li:first-child:after { display:none; }
      .status-steps li.completed:before,
      .status-steps li.completed:after {
        background:#43D091;
        border-color:#43D091;
        color: white;
      }
      .status-steps li span {
        display:block;
        margin-top:.5rem;
        font-size:.9rem;
      }
    </style>
</head>
<body>
    <div layout:fragment="content">
        <div class="complete-box my-4">
            <div class="text-center">
                <h3 class="mb-3 text-success fw-bold">ğŸ‰ ì£¼ë¬¸ í˜„í™©</h3>
                <p>ì£¼ë¬¸ë²ˆí˜¸ <strong th:text="${order.orderId}">#A20250704</strong>ì˜ ì²˜ë¦¬ í˜„í™©ì…ë‹ˆë‹¤.</p>
            </div>
            
            <!-- ë™ì  íƒ€ì„ë¼ì¸ -->
            <ul class="status-steps">
                <li th:classappend="${#lists.contains({'ACCEPTED','DISPATCHED', 'DELIVERING', 'COMPLETED'}, order.status)} ? 'completed'">
                    <span>ì£¼ë¬¸ì ‘ìˆ˜/ì¡°ë¦¬ì¤‘</span>
                </li>
                <li th:classappend="${#lists.contains({'DELIVERING', 'COMPLETED'}, order.status)} ? 'completed'">
                    <span>ë°°ë‹¬ì¤‘</span>
                </li>
                <li th:classappend="${order.status == 'COMPLETED'} ? 'completed'">
                    <span>ë°°ë‹¬ì™„ë£Œ</span>
                </li>
            </ul>

            <hr />
            <h5 class="text-start">ì£¼ë¬¸ ì •ë³´</h5>
            <ul class="list-group text-start mb-3">
                <li class="list-group-item">ê°€ê²Œëª…: 
                	<strong th:text="${order.shopName}">ë§¥ë„ë‚ ë“œ - ì‹ ë¦¼ì </strong></li>
                <li class="list-group-item">ìƒí’ˆëª…:
                	<span th:text="${order.menus}">ë©”ë‰´: ë”ë¸” ë§¥ìŠ¤íŒŒì´ì‹œÂ® ìƒí•˜ì´ ë²„ê±° ì„¸íŠ¸ x 1</span></li>
                <li class="list-group-item">
                	<span>ê²°ì œ ê¸ˆì•¡: </span>
                	<span th:text="${order.totalPrice} + 'ì›'">ê²°ì œê¸ˆì•¡: 12,200ì›</span></li>
                <li class="list-group-item">ë°°ë‹¬ë¹„: 3,000ì›</li>
                <li class="list-group-item">ì´ ê²°ì œê¸ˆì•¡: 
                	<strong th:text="${#numbers.formatInteger(order.totalPrice + 3000, 0, 'COMMA')} + 'ì›'">15,200ì›</strong></li>
            </ul>

            <h5 class="text-start">ë°°ì†¡ ì •ë³´</h5>
            <ul class="list-group text-start mb-4">
                <li class="list-group-item">ë°°ë‹¬ ì£¼ì†Œ: 
                	<span th:text="${order.address}">ì£¼ì†Œ ì •ë³´ ì—†ìŒ</span></li>
                <li class="list-group-item">ì „í™”ë²ˆí˜¸: 
                	<strong th:text="${order.phone}">ì „í™”ë²ˆí˜¸ ì—†ìŒ</strong></li>
                <li class="list-group-item">ìš”ì²­ì‚¬í•­: 
                	<span th:text="${order.request}">ìš”ì²­ì‚¬í•­ ì—†ìŒ</span></li>
            </ul>

            <div class="text-center">
                 <a href="/" class="btn btn-success px-4">ë‹¤ë¥¸ ë©”ë‰´ ë³´ëŸ¬ê°€ê¸°</a>
            </div>
        </div>
    </div>
</body>
</html>