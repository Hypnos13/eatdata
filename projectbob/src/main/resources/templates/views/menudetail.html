<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layouts/main_layout}">
<head>
<meta charset="UTF-8">
<title>λ©”μΈ νμ΄μ§€</title>

<!-- Bootstrap CSS -->
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
	rel="stylesheet">

<!-- μ‚¬μ©μ μ •μ CSS -->
<link rel="stylesheet" href="/css/main.css">
<link rel="stylesheet" href="/css/main_additional.css">

<!-- Bootstrap Bundle JS -->
<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>
	<div layout:fragment="content">

		<div class="container mt-4">
			<div class="row">
				<!-- μ™Όμ½: λ©”λ‰΄ μμ—­ -->
				<div class="col-md-8">
				
					<div class="d-flex align-items-center mb-3">
						<img src="https://i.imgur.com/6p4jYkF.png" alt="λ§¥λ„λ‚ λ“" width="50" />
						<div class="ms-3">
							<h5 class="mb-0">[[ ${shop.name} ]] - [[ ${shop.address1} ]]</h5>
							<small>β… [[${shop.rating}]] / μµμ†μ£Όλ¬ΈκΈμ•΅ [[${#numbers.formatInteger(shop.minPrice,0,'COMMA')}]]μ›</small>
						</div>
					</div>

					<!-- νƒ­ λ©”λ‰΄ -->
					<ul class="nav nav-tabs w-100 justify-content-between">
						<li class="nav-item flex-fill text-center"><a
							class="nav-link active" data-bs-toggle="tab" href="#menu">λ©”λ‰΄</a>
						</li>
						<li class="nav-item flex-fill text-center"><a
							class="nav-link" data-bs-toggle="tab" href="#review">ν΄λ¦°λ¦¬λ·°</a></li>
						<li class="nav-item flex-fill text-center"><a
							class="nav-link" data-bs-toggle="tab" href="#info">μ •λ³΄</a></li>
					</ul>

					<div class="tab-content mt-3">
						<!-- λ©”λ‰΄ νƒ­ -->
						<div class="tab-pane fade show active" id="menu">
							<div class="row">						
					
							<!-- λ©”λ‰΄ μΉ΄λ“  -->
					<th:block th:if="${not #lists.isEmpty(menuList)}">
					<div class="col-md-6 mb-4" th:each="menu, status: ${menuList}">
									<div class="card text-center p-3 menu-card" 
											th:attr="data-id=${menu.mId},data-name=${menu.name},data-price=${menu.price}">
										<div class="d-flex justify-content-between align-items-center mb-2">
											<span class="menu-title">[[ ${menu.name} ]]</span>
										</div>
										<img src="https://i.imgur.com/Sg4b61a.png" alt="λ©”λ‰΄ μ‚¬μ§„"
											class="img-fluid mb-2" />
										<div class="fw-semibold">[[ ${menu.mInfo} ]]</div>
										<div class="menu-price">[[ ${#numbers.formatInteger(menu.price, 0, 'COMMA')} ]]μ›</div>
									</div>
								</div>
					</th:block>
					
					<th:block th:unless="${not #lists.isEmpty(menuList)}">
						<div class="alert alert-info text-center">λ“±λ΅λ λ©”λ‰΄κ°€ μ—†μµλ‹λ‹¤.</div>
					</th:block>
				
			
								
							</div>
						</div>

						<!-- λ¦¬λ·° νƒ­ -->
						<div class="tab-pane fade" id="review">
							<p>μ΄ 10,706κ°μ λ¦¬λ·°κ°€ μμµλ‹λ‹¤.</p>
							<ul>
								<li>"ν–„λ²„κ±°κ°€ λ”°λ»ν•κ³  λ§›μμ–΄μ”!"</li>
								<li>"ν¬μ¥μ΄ κΉ”λ”ν•κ³  λ°°λ‹¬μ΄ λΉ¨λΌμ”."</li>
								<li>"μ†μ¤κ°€ λ„‰λ„‰ν•κ² λ“¤μ–΄μμ–΄μ”."</li>
							</ul>
						</div>

						<!-- μ •λ³΄ νƒ­ -->
						<div class="tab-pane fade" id="info">
							<p>
								<strong>μμ—…μ‹κ°„:</strong>[[${shop.opTime}]]<br /> <strong>μ„μΉ:</strong> <span
									id="storeAddress">[[${shop.address1}]] - [[${shop.address2}]]</span><br /> <strong>μ „ν™”:</strong>
								[[${shop.phone}]]
							</p>

							<div class="mt-3">
								<h6>π“ μ„μΉ μ§€λ„</h6>
								<div id="map"
									style="width: 100%; height: 300px; border: 1px solid #ccc; border-radius: 10px;"></div>
							</div>
						</div>
					</div>
				</div>

				<!-- μ£Όλ¬Έν‘ -->
				<div class="col-md-4">
					<div class="card order-summary p-3">
						<h5 class="card-title">π›’ μ£Όλ¬Έν‘</h5>

						<div class="order-item-list mb-3">
							<!-- μ£Όλ¬Έ λ©”λ‰΄ λ° μ¶”κ°€ λ©”λ‰΄κ°€ μ—¬κΈ° λ™μ μΌλ΅ λ“¤μ–΄κ°‘λ‹λ‹¤ -->
						</div>

						<hr />
						<p>
							μ΄ κ°€κ²©: <strong id="totalPrice">0μ›</strong><br /> <small
								class="text-muted">(λ°°λ‹¬λΉ„ ν¬ν•¨)</small>
						</p>

						<!-- μλ‰ μ΅°μ  μμ—­ -->
						<div class="qty-control d-flex flex-row align-items-center mb-3">
							<button class="btn btn-outline-secondary btn-qty"
								onclick="minus()">β’</button>
							<span id="itemCount" class="mx-3">0</span>
							<button class="btn btn-outline-secondary btn-qty"
								onclick="plus()">οΌ‹</button>
						</div>

						<!-- μ£Όλ¬Έ μ΄κΈ°ν™”(μ‚­μ ) λ²„νΌ -->
						<button class="btn btn-danger w-100 mb-2" id="btnRemoveItem">μ£Όλ¬Έ
							μ·¨μ†</button>

						<button class="btn text-white w-100"
							style="background-color: #43d091;" id="btnOrderNow">
							μ£Όλ¬Έν•κΈ°</button>
					</div>
				</div>


			</div>
		</div>

<form id="orderForm" method="post" action="/pay" style="display:none">
	<input type="hidden" name="menuId" id="orderMenuId">
	<input type="hidden" name="count" id="orderCount">
	<input type="hidden" name="optionIds" id="orderOptionIds">
	<input type="hidden" name="totalPrice" id="orderTotalPrice">
</form>

	</div>



<script src="/js/main.js"></script>
</body>
</html>
