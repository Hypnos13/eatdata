<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
<meta charset="UTF-8">
<title>구조</title>
<link th:href="@{/bootstrap/bootstrap.min.css}" rel="stylesheet">
<link th:href="@{/css/main.css}" rel="stylesheet" />
<script th:src="@{/js/jquery-3.7.1.min.js}"></script>

<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

</head>
<body>
	<div th:replace="~{fragments/header::header}"></div>
	<div class="container">
		<div layout:fragment="content"></div>
	</div>
	<div th:replace="~{fragments/footer::footer}"></div>

	<script
		src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

	<script
		src="//dapi.kakao.com/v2/maps/sdk.js?appkey=30a0d7b80b66b1135d1195c80899795d&libraries=services"></script>

	<script th:src="@{js/main.js}"></script>

	<!-- 추가 메뉴 선택 모달 -->
	<div class="modal fade" id="addMenuModal" tabindex="-1"
		aria-labelledby="addMenuModalLabel" aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered modal-lg">
			<div class="modal-content">

				<!-- 모달 헤더 -->
				<div class="modal-header">
					<h5 class="modal-title" id="addMenuModalLabel">추가 메뉴 선택</h5>
					<button type="button" class="btn-close" data-bs-dismiss="modal"
						aria-label="닫기"></button>
				</div>

				<!-- 모달 본문 -->
				<div class="modal-body">
					<div class="row">

						<!-- 메뉴 이미지 영역 -->
						<div class="col-md-4 text-center">
							<img id="modalMenuImage" src="" alt="메뉴 이미지"
								class="img-fluid rounded"
								style="max-height: 200px; object-fit: contain;">
						</div>

						<!-- 메뉴 정보 및 옵션 영역 -->
						<div class="col-md-8">
							<h4 id="modalMenuName" class="fw-bold mb-1"></h4>
							<p id="modalMenuInfo" class="text-muted"></p>
							<div id="modalMenuPrice" class="text-primary fw-semibold mb-2"></div>

							<!-- 숨은 필드 -->
							<input type="hidden" id="hiddenMenuPrice"> <input
								type="hidden" id="hiddenGuestId" value="">

							<hr>

							<!-- 추가 옵션 선택 -->
							<h6>추가 선택 옵션</h6>
							<div id="optionArea" class="mb-3">
								<!-- 옵션 체크박스들이 여기 AJAX로 생성됨 -->
								<!-- 예시: <input type="checkbox" value="5" data-price="1000"> 감자튀김 (+1,000원) -->
							</div>

							<!-- 수량 조절 -->
							<div class="d-flex align-items-center mt-3">
								<label for="modalCount" class="me-3 fw-semibold"
									style="min-width: 50px;">수량</label>
								<button type="button" class="btn btn-outline-secondary btn-sm"
									id="btnCountMinus">-</button>
								<input type="text" id="modalCount" value="1" readonly
									class="form-control form-control-sm text-center mx-2"
									style="width: 60px;">
								<button type="button" class="btn btn-outline-secondary btn-sm"
									id="btnCountPlus">+</button>
							</div>

							<!-- 주소 버튼  -->
						<div class="modal fade" id="addressSelectModal" tabindex="-1" aria-labelledby="addressSelectModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="addressSelectModalLabel">배달 주소 선택</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <ul class="nav nav-tabs justify-content-center" id="addressTabs" role="tablist">
                    <li class="nav-item" role="presentation">
                        <button class="nav-link active" id="home-tab" data-bs-toggle="tab" data-bs-target="#homeAddresses" type="button" role="tab" aria-controls="homeAddresses" aria-selected="true">집</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="work-tab" data-bs-toggle="tab" data-bs-target="#workAddresses" type="button" role="tab" aria-controls="workAddresses" aria-selected="false">직장</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="other-tab" data-bs-toggle="tab" data-bs-target="#otherAddresses" type="button" role="tab" aria-controls="otherAddresses" aria-selected="false">그 외</button>
                    </li>
                </ul>

                <div class="tab-content mt-4" id="addressTabContent">
                    <div class="tab-pane fade show active" id="homeAddresses" role="tabpanel" aria-labelledby="home-tab">
                        <div class="list-group">
                            <div class="message-container text-center" id="loadingHomeAddressMessage">
                                <p>주소를 불러오는 중...</p>
                            </div>
                            <div class="message-container text-center d-none" id="noHomeAddressMessage">
                                <p>등록된 집 주소가 없습니다.</p>
                            </div>
                            </div>
                    </div>
                    <div class="tab-pane fade" id="workAddresses" role="tabpanel" aria-labelledby="work-tab">
                        <div class="list-group">
                            <div class="message-container text-center" id="loadingWorkAddressMessage">
                                <p>주소를 불러오는 중...</p>
                            </div>
                            <div class="message-container text-center d-none" id="noWorkAddressMessage">
                                <p>등록된 직장 주소가 없습니다.</p>
                            </div>
                        </div>
                    </div>
                    <div class="tab-pane fade" id="otherAddresses" role="tabpanel" aria-labelledby="other-tab">
                        <div class="list-group">
                            <div class="message-container text-center" id="loadingOtherAddressMessage">
                                <p>주소를 불러오는 중...</p>
                            </div>
                            <div class="message-container text-center d-none" id="noOtherAddressMessage">
                                <p>등록된 기타 주소가 없습니다.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">닫기</button>
            </div>
        </div>
    </div>
</div>

						</div>
					</div>
				</div>

				<!-- 모달 푸터 -->
				<div class="modal-footer">
					<button type="button" id="btnAddExtras" class="btn btn-primary">장바구니에
						추가</button>
				</div>
			</div>
		</div>
	</div>




</body>
</html>


