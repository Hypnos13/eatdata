<<<<<<< HEAD
<!DOCTYPE html>
=======
>>>>>>> develop
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <!-- 부트스트랩, 아이콘 로드 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
        rel="stylesheet"/>
  <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"/>
</head>
<header th:fragment="shopHeader" class="header">
<<<<<<< HEAD
  <div class="d-flex align-items-center">
    <a href="/shopMain" class="logo">Project BoB</a>
    <a href="/shopListMain" class="header-home-link ms-3 fw-semibold">서비스 홈</a>
    <span class="ms-3 fw-semibold page-title-text">
      <span th:text="${pageTitle} ?: 'Project BoB'">현재 페이지명</span>
    </span>
  </div>
  <nav class="d-flex align-items-center">
    <!-- 로그인 상태일 때 -->
    <th:block th:if="${session.isLogin}">
      <!-- 알림 아이콘 + 뱃지 -->
      <th:block th:if="${currentShop != null}">
      <div id="notifyContainer"
           th:attr="data-shop-id=${currentShop.sId}"
           class="position-relative me-3 dropdown">
        <a href="#" id="headerNotifyBtn" data-bs-toggle="dropdown" aria-expanded="false">
          <i id="notifyIcon" class="bi bi-bell-fill fs-4"></i>
        </a>
        <span id="header-notif-badge"
              th:text="${session.notifyCount}"
              class="badge bg-danger position-absolute top-0 start-100 translate-middle p-1"
              th:classappend="${session.notifyCount == 0} ? 'd-none' : ''">
        </span>
        <!-- 드롭다운 메뉴 -->
		<ul id="header-notif-list"
		    class="dropdown-menu dropdown-menu-start p-2"
		    aria-labelledby="headerNotifyBtn">
		  <li>
		    <h6 class="dropdown-header">새로운 알림</h6>
		  </li>
		  <!-- 알림이 없을 때 -->
		  <li th:if="${#lists.isEmpty(notifications)}"
		      class="text-muted mb-0">
		    알림이 없습니다.
		  </li>
		  <!-- 알림 리스트 반복 -->
		  <li th:each="n : ${notifications}"
		    class="notif-item d-flex justify-content-between align-items-center"
		    th:attr="data-order-no=${n.orderId}">
		  <a class="dropdown-item flex-grow-1 text-truncate"
		    th:href="@{|/shop/orderManage?status=PENDING|}">
		    <span>새 주문이 도착했습니다.</span>
		  </a>
		  <span class="d-flex flex-column align-items-end ms-2" style="min-width:60px;">
		    <span class="text-danger small">
		    	<span th:id="'hdr-countdown-' + ${n.orderId}"
		          	class="timer"
		          	th:attr="data-expiry=${n.timestamp + 180000}">--:--</span>
		  	</span>
		    <div class="progress" style="width:55px; height:5px; margin-top:2px;">
			  <div th:id="'hdr-progress-' + ${n.orderId}"
			       class="progress-bar bg-danger"
			       role="progressbar"
			       style="width:100%;"
			       aria-valuenow="100" aria-valuemin="0" aria-valuemax="100">
			  </div>
			</div>
		  </span>
		</li>
		</ul>
      </div>
      </th:block>
      <a class="me-2 fw-bold" th:text="${session.loginNickname} + ' 님 어서오세요.'">
        홍길동 님 어서오세요.
      </a>
      <a href="/logout" class="btn-login">로그아웃</a>
      <a href="myProfile" class="btn-login">내정보수정</a>
    </th:block>

    <!-- 비로그인 상태 -->
    <th:block th:unless="${session.isLogin}">
      <a href="login?from=owner" class="btn-login">로그인</a>
    </th:block>

    <!-- master 권한일 때만 -->
    <th:block th:if="${session.loginDivision == 'master'}">
      <a href="faqList" class="btn-register">FAQ관리</a>
      <a href="noticeList" class="btn-register">공지사항관리</a>
      <a href="userList" class="btn-register">사용자관리</a>
      <a href="shopManage" class="btn-register">가게관리</a>
    </th:block>
  </nav>
=======
    <div class="d-flex align-items-center">
        <a th:href="@{/shopMain}" class="logo">Project BoB</a>
        <a th:href="@{/shopListMain}" class="header-home-link ms-3 fw-semibold">
	        서비스 홈
	    </a>
        <span class="ms-3 fw-semibold page-title-text">
            <span th:text="${pageTitle}">현재 페이지명</span>
        </span>
    </div>
    
    <nav class="d-flex align-items-center">
	    <th:block th:if="${session.isLogin}">
	    	<div id="notifyContainer"
			     th:if="${currentShop != null}"
			     th:attr="data-shop-id=${currentShop.sId}"
			     class="position-relative me-3 dropdown">
			  <a href="#" id="headerNotifyBtn" data-bs-toggle="dropdown" aria-expanded="false">
			    <i id="notifyIcon" class="bi bi-bell-fill fs-4"></i>
			  </a>
			  <span id="header-notif-badge"
			        th:text="${session.notifyCount}"
			        class="badge bg-danger position-absolute top-0 start-100 translate-middle p-1"
			        th:classappend="${session.notifyCount == 0} ? 'd-none' : ''">
			    0
			  </span>
		
				<ul id="header-notif-list" class="dropdown-menu dropdown-menu-end p-2" style="min-width:300px; max-width:500px;" aria-labelledby="headerNotifyBtn">
			    <li><h6 class="dropdown-header">새로운 알림</h6></li>
			    <li class="text-muted mb-0">알림이 없습니다.</li>
			  </ul>
			</div>
      
	      <a class="me-2 fw-bold">[[${session.loginNickname}]] 님 어서오세요.</a>
	      <a th:href="@{/logout}" class="btn-login">로그아웃</a>
	      <a th:href="@{/myProfile}" class="btn-login">내정보수정</a>
	    </th:block>
	    
	    <th:block th:unless="${session.isLogin}">
	      <a th:href="@{/login(from='owner')}" class="btn-login">로그인</a>  
	    </th:block>
	    
	    <th:block th:if="${session.loginDivision == 'master'}">
	    	<a th:href="@{/faqList}" class="btn-register">FAQ관리</a>
	    	<a th:href="@{/noticeList}" class="btn-register">공지사항관리</a>
	    	<a th:href="@{/userList}" class="btn-register">사용자관리</a>
	    	<a th:href="@{/shopManage}" class="btn-register">가게관리</a>
	    </th:block>
    </nav>
    
>>>>>>> develop
</header>
</html>
